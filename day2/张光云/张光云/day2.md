# Day2：笔记

author：张光云

## 实验二：基于区块链的积分系统

### 实验介绍

本次实验我们实现一个积分系统，由商家进行积分发放，用户进行积分消费。

以下是功能介绍：

1. 总积分初始化
2. 总积分查询
3. 积分转账
4. 积分查询
5. 积分转账明细记录

### 实验步骤

1. 在remix上编写并测试智能合约，结果如下图

   ![9](.//assets/9.png)

2. 获取两个账户，结果如下图

   ![account](.//assets/account.png)

3. 使用账户登录控制台，一个为商家，一个为客户

   商家部署智能合约，令总积分为500，查询总积分和商家的积分，结果如下图

   ![1](.//assets/1.png)

   
   客户注册账户，结果如下图

   ![2](.//assets/2.png)

   
   花费100元，获得100积分,总积分仍然为500不变，结果如下图

   ![4](.//assets/4.png)

   

   商家减少100积分，结果如下图

   ![3](.//assets/3.png)

4. 客户消耗50积分抵现金，查询客户积分剩余50，消耗的50积分转移至商家账户中，结果如下图

   ![5](.//assets/5.png)


   此时商家账户积分剩余450，结果如下图

   ![6](.//assets/6.png)

5. 商家主动转移100积分给该客户，商家剩余350积分，结果如下图

   ![7](.//assets/7.png)

   
   客户积分增加至150，结果如下图

   ![8](.//assets/8.png)

6. 部署spring-boot运行测试用例，结果如下图

![测试](.//assets/测试.png)
